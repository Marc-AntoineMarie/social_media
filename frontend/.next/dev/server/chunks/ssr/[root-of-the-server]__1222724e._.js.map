{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/zera/social_media/frontend/app/page.tsx"],"sourcesContent":["export default async function Home() {\n  // Fetch les posts depuis votre API NestJS\n  const res = await fetch('http://localhost:3000/posts')\n  const res1 = await fetch('http://localhost:3000/likes')\n  const res2 = await fetch('http://localhost:3000/users')\n  const res3 = await fetch('http://localhost:3000/comments')\n  const posts: any[] = await res.json()\n  const likes: any[] = await res1.json()\n  const users: any[] = await res2.json()\n  const comments: any[] = await res3.json()\n\n  const getLikesCount = (postId: number) => {\n    return likes.filter(like=>like.postId===postId).length\n  }\n\n  const getCommentCount = (postId: number) => {\n    return comments.filter(comment=>comment.postId===postId).length\n  }\n\n  const getPostAuthor = (userId: number) => {\n    return users.find(user=>user.id===userId)\n    }\n\n  const sortedPosts = posts.sort((a, b) => {\n    return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n  })\n    console.log(\"getPostAuthor\",getPostAuthor)\n    // console.log(\"posts\", posts)\n    // console.log(\"users\", users)\n    // console.log(\"likes\",likes)    const author = getPostAuthor(post.userId)\n    // console.log(\"comment\",comments)\n    console.log(\"getLikeCount\",getLikesCount(3))\n    console.log(\"getCommentCount\",getCommentCount(3))\n\n    return (\n  <div className=\"min-h-screen bg-gray-100 py-8\">\n    <div className=\"max-w-2xl mx-auto px-4\">\n      {/* Container pour tous les posts */}\n      <div className=\"space-y-6\">\n        {sortedPosts.map((post) => {\n          const author = getPostAuthor(post.authorId)\n          if (!author) {\n            console.warn(`Post ${post.id} : auteur ${post.authorId} introuvable`)\n            return null\n          }\n          return (\n            <div key={post.id} className=\"max-w-md mx-auto bg-white rounded-xl shadow-lg transform transition duration-500 hover:scale-105 hover:shadow-2xl\">\n              {/* En-t√™te du post */}\n              <div className=\"p-4\">\n                <span className=\"text-white text-xs font-bold rounded-lg bg-green-500 inline-block py-1.5 px-4\">\n                  {post.location || 'üìç Localisation'}\n                </span>\n                <h2 className=\"text-xl mt-2 font-bold text-gray-800\">\n                  {post.caption || 'Sans titre'}\n                </h2>\n              </div>\n              {/* Image du post */}\n              <img className=\"w-full cursor-pointer\" src={post.imageUrl} alt={post.caption || 'Post'} />\n              {/* Pied du post avec auteur et interactions */}\n              <div className=\"flex p-4 justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <img className=\"w-10 h-10 rounded-full object-cover\" src={author.avatar} alt={author.username}/>\n                  <h3 className=\"text-gray-800 font-bold cursor-pointer\">\n                    {author.username}\n                  </h3>\n                </div>\n                <div className=\"flex space-x-2\">\n                  {/* Commentaires */}\n                  <div className=\"flex space-x-1 items-center\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-gray-600 cursor-pointer\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                    </svg>\n                    <span className=\"text-gray-800 font-semibold\">\n                      {getCommentCount(post.id)}\n                    </span>\n                  </div>\n                  {/* Likes */}\n                  <div className=\"flex space-x-1 items-center\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-7 w-7 text-red-500 hover:text-red-400 transition duration-100 cursor-pointer\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\n                    </svg>\n                    <button className=\"text-gray-800 font-semibold\">\n                      {getLikesCount(post.id)}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  </div>\n)\n}"],"names":[],"mappings":";;;;;;AAAe,eAAe;IAC5B,0CAA0C;IAC1C,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,MAAM;IACzB,MAAM,OAAO,MAAM,MAAM;IACzB,MAAM,OAAO,MAAM,MAAM;IACzB,MAAM,QAAe,MAAM,IAAI,IAAI;IACnC,MAAM,QAAe,MAAM,KAAK,IAAI;IACpC,MAAM,QAAe,MAAM,KAAK,IAAI;IACpC,MAAM,WAAkB,MAAM,KAAK,IAAI;IAEvC,MAAM,gBAAgB,CAAC;QACrB,OAAO,MAAM,MAAM,CAAC,CAAA,OAAM,KAAK,MAAM,KAAG,QAAQ,MAAM;IACxD;IAEA,MAAM,kBAAkB,CAAC;QACvB,OAAO,SAAS,MAAM,CAAC,CAAA,UAAS,QAAQ,MAAM,KAAG,QAAQ,MAAM;IACjE;IAEA,MAAM,gBAAgB,CAAC;QACrB,OAAO,MAAM,IAAI,CAAC,CAAA,OAAM,KAAK,EAAE,KAAG;IAClC;IAEF,MAAM,cAAc,MAAM,IAAI,CAAC,CAAC,GAAG;QACjC,OAAO,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;IACxE;IACE,QAAQ,GAAG,CAAC,iBAAgB;IAC5B,8BAA8B;IAC9B,8BAA8B;IAC9B,0EAA0E;IAC1E,kCAAkC;IAClC,QAAQ,GAAG,CAAC,gBAAe,cAAc;IACzC,QAAQ,GAAG,CAAC,mBAAkB,gBAAgB;IAE9C,qBACF,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBAEb,cAAA,8OAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC;oBAChB,MAAM,SAAS,cAAc,KAAK,QAAQ;oBAC1C,IAAI,CAAC,QAAQ;wBACX,QAAQ,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,UAAU,EAAE,KAAK,QAAQ,CAAC,YAAY,CAAC;wBACpE,OAAO;oBACT;oBACA,qBACE,8OAAC;wBAAkB,WAAU;;0CAE3B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,KAAK,QAAQ,IAAI;;;;;;kDAEpB,8OAAC;wCAAG,WAAU;kDACX,KAAK,OAAO,IAAI;;;;;;;;;;;;0CAIrB,8OAAC;gCAAI,WAAU;gCAAwB,KAAK,KAAK,QAAQ;gCAAE,KAAK,KAAK,OAAO,IAAI;;;;;;0CAEhF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;gDAAsC,KAAK,OAAO,MAAM;gDAAE,KAAK,OAAO,QAAQ;;;;;;0DAC7F,8OAAC;gDAAG,WAAU;0DACX,OAAO,QAAQ;;;;;;;;;;;;kDAGpB,8OAAC;wCAAI,WAAU;;0DAEb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,OAAM;wDAA6B,WAAU;wDAAuC,MAAK;wDAAO,SAAQ;wDAAY,QAAO;kEAC9H,cAAA,8OAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAY;4DAAI,GAAE;;;;;;;;;;;kEAEvE,8OAAC;wDAAK,WAAU;kEACb,gBAAgB,KAAK,EAAE;;;;;;;;;;;;0DAI5B,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,OAAM;wDAA6B,WAAU;wDAAiF,SAAQ;wDAAY,MAAK;kEAC1J,cAAA,8OAAC;4DAAK,UAAS;4DAAU,GAAE;4DAAgH,UAAS;;;;;;;;;;;kEAEtJ,8OAAC;wDAAO,WAAU;kEACf,cAAc,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;uBApCtB,KAAK,EAAE;;;;;gBA2CrB;;;;;;;;;;;;;;;;AAKR","debugId":null}}]
}